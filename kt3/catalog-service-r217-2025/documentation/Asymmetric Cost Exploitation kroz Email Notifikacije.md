# Eksploatacija Asymmetric Cost Exploitation kroz Email Notifikacije

## 1. Uvod

Ovaj dokument opisuje konkretan teorijski napad koji eksploatiše pretnju **Asymmetric Cost Exploitation** u okviru Catalog Service sistema.  
Napad se zasniva na zloupotrebi mehanizma za email notifikacije i pretplate korisnika, pri čemu autorizovani akter koristi legitimne funkcionalnosti sistema kako bi izazvao disproporcionalan operativni trošak.

Za razliku od klasičnih bezbednosnih napada, opisani scenario ne narušava integritet niti dostupnost sistema, već cilja njegovu **ekonomsku održivost**.

---
## 2. Opis problema

Catalog Service često predstavlja izvor događaja za notifikacione sisteme, kao što su:

- obaveštenja o novim proizvodima  
- obaveštenja o promenama cena  
- obaveštenja o dostupnosti artikala  

U tipičnom dizajnu, svaka relevantna izmena proizvoda generiše događaj koji se dalje propagira ka notifikacionom servisu, gde se vrši fan-out distribucija ka svim pretplaćenim korisnicima.  
Svaki pretplatnik rezultuje jednom email porukom, a svaka poruka predstavlja merljivu stavku troška.

---
## 3. Model napada

### 3.1 Akter napada

Napadač je **maliciozni prodavac (seller)** koji:

- poseduje legitimni nalog prodavca  
- ima mogućnost kreiranja ili kontrole većeg broja korisničkih naloga  
- koristi zvanični mehanizam za pretplatu na notifikacije  

Napadač ne mora da krši pravila sistema niti da eskalira privilegije.

---
### 3.2 Tok napada

Napad se sastoji iz sledećih koraka:

1. Prodavac kreira veći broj korisničkih naloga  
2. Nalozi se pretplaćuju na obaveštenja o proizvodima tog prodavca  
3. Prodavac izvrši izmenu proizvoda (npr. minimalna promena cene)  
4. Sistem šalje email notifikaciju svakom pretplaćenom nalogu  

Jedna akcija (update proizvoda) dovodi do **fan-out-a proporcionalnog broju pretplatnika**.

---
## 4. Analiza asimetrije troška

U ovom scenariju postoji jasan disbalans između troška napadača i troška sistema:

- prodavac izvršava jednu jeftinu i dozvoljenu operaciju  
- sistem šalje veliki broj email poruka  
- trošak sistema raste linearno sa brojem pretplatnika  

Trošak sistema dodatno uključuje:

- izvršavanje notifikacionih worker-a  
- retry mehanizme za neuspešna slanja  
- logovanje i prateće metrikama vezane operacije  

Ovakav odnos ispunjava osnovne kriterijume **Asymmetric Cost Exploitation**.

---
## 5. Posledice po sistem

Iako sistem ostaje funkcionalno ispravan, napad može izazvati:

- značajan rast operativnih troškova  
- opterećenje notifikacionog sloja  
- degradaciju reputacije email domena  
- povećan broj bounce i throttling događaja  

Važno je naglasiti da uspešnost napada **ne zavisi od pada sistema**, već od ekonomskog pritiska koji se vremenom akumulira.

---
## 6. Moguće mitigacije

Mitigacije ovog napada ne mogu se zasnivati na ograničavanju legitimne popularnosti prodavaca, jer veliki fan-out može biti posledica realnog interesovanja korisnika.  
Zbog toga se razmatraju mitigacije koje **ne narušavaju poslovnu semantiku sistema**, već smanjuju trošak obrade notifikacija.

---
### 6.1 Agregacija i digest notifikacije

Umesto slanja emaila za svaku pojedinačnu izmenu proizvoda, sistem može objediniti više izmena u jednu notifikaciju i slati periodične digest poruke.

Na ovaj način:

- broj email poruka se značajno smanjuje  
- trošak se vezuje za vremenski interval, a ne za broj izmena  
- popularni prodavci ostaju potpuno podržani  

Ovaj pristup predstavlja direktnu analogiju agregacije događaja primenjene u Catalog Service-u.

---
### 6.2 Rate limiting po pretplatniku

Dodatna mitigacija može biti ograničenje broja email poruka koje jedan korisnik može primiti u određenom vremenskom periodu.

Ovim se:

- štite krajnji korisnici od prevelikog broja poruka  
- smanjuje mogućnost zloupotrebe velikog broja kontrolisanih naloga  
- čuva reputacija email infrastrukture  

Ova mitigacija ne utiče na legitimne prodavce, već na ponašanje pojedinačnih pretplatnika.

---
### 6.3 Diferencijacija i verifikacija pretplatnika

Napad se u velikoj meri oslanja na masovno kreiranje korisničkih naloga.  
Zbog toga je moguće uvesti različit tretman za:

- nove ili neverifikovane naloge  
- dugoročne i proverene korisnike  

Na primer, notifikacije za nove naloge mogu biti agregirane ili vremenski odložene, bez uticaja na legitimne korisnike sistema.

---
## 7. Zaključak

Subscriber-based Email Fan-Out Attack predstavlja realističan primer eksploatacije pretnje **Asymmetric Cost Exploitation** u okviru Catalog Service sistema.  
Napad pokazuje da autorizacija i ispravna funkcionalnost nisu dovoljni da garantuju ekonomsku bezbednost sistema.

Efikasne mitigacije zahtevaju arhitekturalne odluke koje smanjuju fan-out trošak, uz očuvanje poslovne logike i korisničkog iskustva.
